<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PC8KNJ6FE8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-PC8KNJ6FE8');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenClaw Canvas Security Hardening ‚Äî Patrick R. Jordan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff;
            --bg-secondary: #f8fafc;
            --text: #0f172a;
            --text-secondary: #475569;
            --accent: #2563eb;
            --border: #e2e8f0;
            --green: #10b981;
            --red: #ef4444;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0f172a;
                --bg-secondary: #1e293b;
                --text: #f1f5f9;
                --text-secondary: #94a3b8;
                --accent: #3b82f6;
                --border: #334155;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
        }
        .container {
            max-width: 720px;
            margin: 0 auto;
            padding: 4rem 1.5rem;
        }
        .back {
            display: inline-block;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            margin-bottom: 2rem;
        }
        .back:hover { color: var(--accent); }
        .meta {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        .tag {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            background: var(--accent);
            color: white;
            border-radius: 4px;
            font-weight: 500;
        }
        .tag-security {
            background: var(--red);
        }
        .date {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        h1 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            line-height: 1.3;
        }
        .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }
        .author-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 2rem;
        }
        .author-card h3 {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        .author-card p {
            font-size: 0.9rem;
            color: var(--text);
        }
        .author-card a {
            color: var(--accent);
            text-decoration: none;
        }
        .author-card a:hover { text-decoration: underline; }
        h2 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
        }
        p {
            margin-bottom: 1rem;
        }
        a {
            color: var(--accent);
            text-decoration: none;
        }
        a:hover { text-decoration: underline; }
        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            background: var(--bg-secondary);
            padding: 0.15rem 0.35rem;
            border-radius: 4px;
            border: 1px solid var(--border);
        }
        pre {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        pre code {
            background: none;
            border: none;
            padding: 0;
        }
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }
        li {
            margin-bottom: 0.5rem;
        }
        blockquote {
            border-left: 3px solid var(--accent);
            padding-left: 1rem;
            margin: 1.5rem 0;
            color: var(--text-secondary);
            font-style: italic;
        }
        .source-link {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 2rem;
            font-size: 0.875rem;
        }
        .source-link strong {
            display: block;
            margin-bottom: 0.5rem;
        }
        .implications {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg) 100%);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .implications h3 {
            font-size: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .security-box {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--red);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .security-box strong {
            color: var(--red);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/articles/" class="back">‚Üê Articles</a>
        
        <div class="meta">
            <span class="tag">OpenClaw</span>
            <span class="tag tag-security">Security</span>
            <span class="date">February 13, 2026</span>
        </div>
        
        <h1>OpenClaw Canvas Security: Restricting IP-Based Auth to Private Networks</h1>
        <p class="subtitle">A security fix closes a potential attack vector in OpenClaw's canvas feature, restricting IP-based authentication to trusted local networks only.</p>

        <div class="author-card">
            <h3>Contributor</h3>
            <p><strong>Yi Liu</strong> ‚Äî Security-focused contributor to OpenClaw. This fix is part of an ongoing effort to harden OpenClaw's network-facing components as adoption grows. <a href="https://github.com/a2aproject/A2A/issues/1472" target="_blank">GitHub ‚Üí</a></p>
        </div>

        <h2>The Vulnerability</h2>
        <p>OpenClaw's canvas feature allows agents to render and interact with visual content ‚Äî think of it as a way for your AI assistant to "see" and manipulate web pages, documents, or custom UIs. This powerful capability requires careful security boundaries.</p>

        <p>The issue: canvas IP-based authentication was accepting connections from <em>any</em> IP address, not just private/local networks. In certain deployment configurations, this could allow unauthorized access from external networks.</p>

        <div class="security-box">
            <strong>Attack Vector:</strong> If an OpenClaw instance was exposed to the internet (intentionally or accidentally) with canvas enabled, an attacker could potentially interact with the canvas endpoints using IP-based authentication, bypassing other auth mechanisms.
        </div>

        <h2>The Fix</h2>
        <p><a href="https://github.com/openclaw/openclaw/commit/14fc742" target="_blank">PR #14661</a> restricts canvas IP-based authentication to RFC 1918 private network ranges only:</p>

        <pre><code>// Now restricted to private networks only:
- 10.0.0.0/8
- 172.16.0.0/12  
- 192.168.0.0/16
- 127.0.0.0/8 (localhost)
- ::1 (IPv6 localhost)</code></pre>

        <p>Connections from public IP addresses now require proper token-based authentication, regardless of other configuration settings.</p>

        <h2>Why This Matters</h2>
        <p>This fix reflects OpenClaw's transition from "hobbyist tool" to "production infrastructure." Early in a project's lifecycle, convenience features like IP-based auth help with development and testing. As adoption grows, these same features become attack surfaces.</p>

        <p>The security implications are particularly relevant because:</p>
        <ul>
            <li><strong>Canvas has elevated privileges:</strong> It can render arbitrary content and execute JavaScript in a controlled environment</li>
            <li><strong>Deployment patterns are changing:</strong> OpenClaw instances are increasingly running on VPS, containers, and cloud infrastructure ‚Äî not just local developer machines</li>
            <li><strong>Enterprise interest is growing:</strong> Organizations evaluating OpenClaw need assurance that network-facing components have proper security controls</li>
        </ul>

        <h2>Part of a Larger Pattern</h2>
        <p>This fix arrives alongside several other security-focused changes in today's commits:</p>
        <ul>
            <li><code>fix: allow device-paired clients to retrieve TTS API keys (#14613)</code> ‚Äî tightening API key access controls</li>
            <li><code>fix(configure): reject literal "undefined" and "null" gateway auth tokens (#13767)</code> ‚Äî input validation hardening</li>
            <li><code>fix: classify /tools/invoke errors and sanitize 500s (#13185)</code> ‚Äî preventing information leakage through error messages</li>
        </ul>

        <p>The pattern suggests a coordinated security review or a systematic hardening effort as OpenClaw approaches a new release milestone.</p>

        <div class="implications">
            <h3>üõ°Ô∏è Implications for Users</h3>
            <ul>
                <li><strong>Update recommended:</strong> If you're running OpenClaw with canvas enabled in a networked environment, update to get this fix</li>
                <li><strong>Deployment audit:</strong> This is a good reminder to review your OpenClaw instance's network exposure ‚Äî is it properly firewalled?</li>
                <li><strong>Enterprise signal:</strong> Security fixes like this demonstrate the project is maturing toward enterprise-readiness</li>
                <li><strong>No action needed for local:</strong> If you're running OpenClaw purely on localhost, this change is transparent to you</li>
            </ul>
        </div>

        <h2>Technical Details</h2>
        <p>The implementation checks the request source IP against private network ranges before allowing IP-based authentication to proceed:</p>

        <pre><code>function isPrivateNetwork(ip: string): boolean {
  // IPv4 private ranges
  if (ip.match(/^10\./)) return true;
  if (ip.match(/^172\.(1[6-9]|2[0-9]|3[0-1])\./)) return true;
  if (ip.match(/^192\.168\./)) return true;
  if (ip.match(/^127\./)) return true;
  
  // IPv6 localhost
  if (ip === '::1') return true;
  
  return false;
}</code></pre>

        <p>This is a defense-in-depth measure ‚Äî proper token-based authentication should be the primary mechanism, with IP-based auth as a convenience layer for trusted local development environments.</p>

        <div class="source-link">
            <strong>Source</strong>
            <a href="https://github.com/openclaw/openclaw/commit/14fc742" target="_blank">github.com/openclaw/openclaw/commit/14fc742</a> ‚Äî fix(security): restrict canvas IP-based auth to private networks (#14661)
        </div>
    </div>
</body>
</html>
